{"title":"Spring-注入","date":"2019-10-18T12:16:08.000Z","link":"2019/10/18/Spring-注入","tags":["Java","Spring","笔记"],"updated":"2019-11-02T06:57:54.082Z","content":"<h3 id=\"构造函数注入\">构造函数注入<a href=\"2019/10/18/Spring-注入#构造函数注入\"></a></h3><h5 id=\"一个A类，它依赖B\">一个A类，它依赖B<a href=\"2019/10/18/Spring-注入#一个A类，它依赖B\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class A&#123;</span><br><span class=\"line\">\tprivate B b;</span><br><span class=\"line\">\tpublic A(B b)&#123;</span><br><span class=\"line\">\t\tthis.b = b;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpublic void bMethod()&#123;</span><br><span class=\"line\">\t\tb.show();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"B类\">B类<a href=\"2019/10/18/Spring-注入#B类\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class B&#123;</span><br><span class=\"line\">\tpublic void show()&#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;This is B show method.&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"Beans-xml\">Beans.xml<a href=\"2019/10/18/Spring-注入#Beans-xml\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;beans&gt;</span><br><span class=\"line\">\t&lt;bean id=&quot;A&quot; class=&quot;com.A&quot;&gt;</span><br><span class=\"line\">\t\t&lt;constructor-arg ref=&quot;B&quot;/&gt;</span><br><span class=\"line\">\t&lt;/bean&gt;</span><br><span class=\"line\">\t&lt;bean id=&quot;B&quot; class=&quot;com.B&quot;&gt;</span><br><span class=\"line\">\t&lt;/bean&gt;</span><br><span class=\"line\">&lt;/beans&gt;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"Main中\">Main中<a href=\"2019/10/18/Spring-注入#Main中\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Main&#123;</span><br><span class=\"line\">\tpublic static void main(String[] args)&#123;</span><br><span class=\"line\">        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);</span><br><span class=\"line\">        A a = (A)context.getBean(&quot;A&quot;);</span><br><span class=\"line\">        a.show();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n\n\n<h3 id=\"设值函数注入\">设值函数注入<a href=\"2019/10/18/Spring-注入#设值函数注入\"></a></h3><h5 id=\"A类，依赖B\">A类，依赖B<a href=\"2019/10/18/Spring-注入#A类，依赖B\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class A&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\tprivate B b;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tpublic setB(B b)&#123;</span><br><span class=\"line\">\t\tthis.b = b;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tpublic B getB()&#123;</span><br><span class=\"line\">\t\treturn b;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tpublic void bMethod()&#123;</span><br><span class=\"line\">\t\tb.show();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"B类-1\">B类<a href=\"2019/10/18/Spring-注入#B类-1\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class B&#123;</span><br><span class=\"line\">\tpublic void show()&#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;This is B show method.&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"Beans-xml-1\">Beans.xml<a href=\"2019/10/18/Spring-注入#Beans-xml-1\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;beans&gt;</span><br><span class=\"line\">\t&lt;bean id=&quot;A&quot; class=&quot;com.A&quot;&gt;</span><br><span class=\"line\">\t\t&lt;property name=&quot;b&quot; ref=&quot;B&quot;/&gt;</span><br><span class=\"line\">\t&lt;/bean&gt;</span><br><span class=\"line\">\t&lt;bean id=&quot;B&quot; class=&quot;com.B&quot;&gt;</span><br><span class=\"line\">\t&lt;/bean&gt;</span><br><span class=\"line\">&lt;/beans&gt;</span><br></pre></td></tr></table></div></figure>\n\n<h3 id=\"配置类注入\">配置类注入<a href=\"2019/10/18/Spring-注入#配置类注入\"></a></h3><h5 id=\"一个A类，它依赖B-1\">一个A类，它依赖B<a href=\"2019/10/18/Spring-注入#一个A类，它依赖B-1\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class A&#123;</span><br><span class=\"line\">\tprivate B b;</span><br><span class=\"line\">\tpublic A(B b)&#123;</span><br><span class=\"line\">\t\tthis.b = b;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpublic void bMethod()&#123;</span><br><span class=\"line\">\t\tb.show();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"B类-2\">B类<a href=\"2019/10/18/Spring-注入#B类-2\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class B&#123;</span><br><span class=\"line\">\tpublic void show()&#123;</span><br><span class=\"line\">\t\tSystem.out.println(&quot;This is B show method.&quot;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"使用Config类来代替Beans-xml\">使用Config类来代替Beans.xml<a href=\"2019/10/18/Spring-注入#使用Config类来代替Beans-xml\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Configuration</span><br><span class=\"line\">public class Config&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t@Bean</span><br><span class=\"line\">\tpublic A a()&#123;</span><br><span class=\"line\">\t\treturn new A(b());</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t@Bean</span><br><span class=\"line\">\tpublic B b()&#123;</span><br><span class=\"line\">\t\treturn new B();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"Main中-1\">Main中<a href=\"2019/10/18/Spring-注入#Main中-1\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Main&#123;</span><br><span class=\"line\">\tpublic static void main(String[] args)&#123;</span><br><span class=\"line\">        ApplicationContext context= new AnnotationConfigApplicationContext(Config.class);</span><br><span class=\"line\">        A a = (A)context.getBean(A.class);</span><br><span class=\"line\">        a.show();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>","prev":{"title":"Spring使用配置类注入数据源连接mysql（未持久化）","link":"2019/10/18/Spring使用配置类注入数据源连接mysql（未持久化）"},"next":{"title":"BTSow Spider","link":"2019/10/18/BTSow Spider"},"plink":"http://yoursite.com/2019/10/18/Spring-注入/"}