{"title":"CentOS安装使用，远程连接MySql","date":"2019-09-20T19:17:32.000Z","link":"2019/09/21/CentOS安装使用 远程连接MySql","tags":["MySql","原创"],"updated":"2019-11-02T06:55:43.932Z","content":"<h4 id=\"安装\">安装<a href=\"2019/09/21/CentOS安装使用 远程连接MySql#安装\"></a></h4><p>获取mysql的rpm yum包</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm</span><br></pre></td></tr></table></div></figure>\n\n<p>安装rpm</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -ivh mysql-community-release-el7-5.noarch.rpm</span><br></pre></td></tr></table></div></figure>\n\n<p>安装</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install mysql-community-server</span><br></pre></td></tr></table></div></figure>\n\n<p>启动</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service mysqld start</span><br></pre></td></tr></table></div></figure>\n\n<p>查看是否运行</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service mysqld status</span><br></pre></td></tr></table></div></figure>\n\n<h4 id=\"初始配置\">初始配置<a href=\"2019/09/21/CentOS安装使用 远程连接MySql#初始配置\"></a></h4><p>进入mysql控制台，输入密码时直接回车。或者进入/var/log/mysqld.log查看密码</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p mysql</span><br></pre></td></tr></table></div></figure>\n\n<p>修改密码</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update user set password=PASSWORD(&apos;qwer1234&apos;) where user=&apos;root&apos;;</span><br></pre></td></tr></table></div></figure>\n\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.  grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; identified by &apos;qwer1234&apos; with grant option;  </span><br><span class=\"line\">//root 是用户名，% 表示任意主机，&apos;123456&apos; 指定的登录密码</span><br><span class=\"line\">（这个和本地的root密码可以设置不同，互不影响）  </span><br><span class=\"line\">2.  flush privileges; //重载系统权限  </span><br><span class=\"line\">3.  exit;//退出mysql控制台</span><br></pre></td></tr></table></div></figure>\n\n<p>开放3306端口</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -I INPUT -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT</span><br></pre></td></tr></table></div></figure>\n\n<h5 id=\"彻底卸载Mysql\">彻底卸载Mysql<a href=\"2019/09/21/CentOS安装使用 远程连接MySql#彻底卸载Mysql\"></a></h5><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.查看mysql的安装情况</span><br><span class=\"line\">       rpm -qa|grep -i mysql</span><br><span class=\"line\">       </span><br><span class=\"line\">2.停止mysql服务，删除mysql</span><br><span class=\"line\">       rpm -ev mysql-5.1.73-8.el6_8.x86_64</span><br><span class=\"line\">       rpm -ev mysql-libs-5.1.73-8.el6_8.x86_64</span><br><span class=\"line\">注意：可能会抛依赖错误错 error:Failed dependencies:</span><br><span class=\"line\">，则加上 --nodeps不检查依赖关系删除，命令如下</span><br><span class=\"line\">rpm -e --nodeps mysql-libs-5.1.73-8.el6_8.x86_64</span><br><span class=\"line\"></span><br><span class=\"line\">3.删除遗留的mysql文件和依赖库</span><br><span class=\"line\">find / -name mysql</span><br><span class=\"line\">rm -rf /var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\">4.mysql 配置文件还要手动删除</span><br><span class=\"line\">rm -rf /etc/my.cnf</span><br><span class=\"line\"></span><br><span class=\"line\">5.检查一遍mysql 是否成功删除</span><br><span class=\"line\">rpm -qa|grep -i mysql</span><br></pre></td></tr></table></div></figure>","prev":{"title":"centOS安装操作Docker","link":"2019/09/21/centOS安装操作Docker"},"next":{"title":"Java学习笔记","link":"2019/09/21/Java学习笔记"},"plink":"http://yoursite.com/2019/09/21/CentOS安装使用 远程连接MySql/"}